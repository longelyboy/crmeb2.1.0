(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a905886"],{"1e65":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"divBox"},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"article-manager"},[r("div",{staticClass:"ivu-mt"},[r("el-form",{ref:"formItem",attrs:{model:e.formItem,"label-width":e.labelWidth,"label-position":e.labelPosition,rules:e.ruleValidate},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{span:24}},[r("el-col",e._b({},"el-col",e.grid,!1),[r("el-form-item",{attrs:{label:"提货点名称：",prop:"mer_take_name"}},[r("el-input",{attrs:{placeholder:"请输入提货点名称"},model:{value:e.formItem.mer_take_name,callback:function(t){e.$set(e.formItem,"mer_take_name",t)},expression:"formItem.mer_take_name"}})],1)],1)],1),e._v(" "),r("el-col",{attrs:{span:24}},[r("el-col",e._b({},"el-col",e.grid,!1),[r("el-form-item",{attrs:{label:"提货点手机号：",prop:"mer_take_phone"}},[r("el-input",{attrs:{type:"number",placeholder:"请输入提货点手机号"},model:{value:e.formItem.mer_take_phone,callback:function(t){e.$set(e.formItem,"mer_take_phone",t)},expression:"formItem.mer_take_phone"}})],1)],1)],1),e._v(" "),r("el-col",{attrs:{span:24}},[r("el-col",e._b({},"el-col",e.grid,!1),[r("el-form-item",{attrs:{label:"详细地址：",prop:"mer_take_address"}},[r("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.formItem.mer_take_address,callback:function(t){e.$set(e.formItem,"mer_take_address",t)},expression:"formItem.mer_take_address"}})],1)],1)],1),e._v(" "),r("el-col",{attrs:{span:24}},[r("el-col",e._b({},"el-col",e.grid,!1),[r("el-form-item",{attrs:{label:"提货点营业日期：",prop:"mer_take_day"}},[r("el-select",{staticClass:"selWidth",attrs:{filterable:"",multiple:"",placeholder:"请选择营业时间"},model:{value:e.formItem.mer_take_day,callback:function(t){e.$set(e.formItem,"mer_take_day",t)},expression:"formItem.mer_take_day"}},e._l(e.date,(function(e){return r("el-option",{key:e.date_id,attrs:{label:e.date_name,value:e.date_id}})})),1)],1)],1)],1),e._v(" "),r("el-col",{attrs:{span:24}},[r("el-col",e._b({},"el-col",e.grid,!1),[r("el-form-item",{attrs:{label:"提货点营业时间：",prop:"mer_take_time"}},[r("el-time-picker",{attrs:{"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围","value-format":"HH:mm"},on:{change:e.onchangeTime},model:{value:e.formItem.mer_take_time,callback:function(t){e.$set(e.formItem,"mer_take_time",t)},expression:"formItem.mer_take_time"}})],1)],1)],1),e._v(" "),r("el-col",{attrs:{span:24}},[r("el-col",e._b({},"el-col",e.grid,!1),[r("el-form-item",{attrs:{label:"经纬度：",prop:"mer_take_location"}},[r("el-input",{staticStyle:{width:"100%"},attrs:{"enter-button":"查找位置",placeholder:"请查找位置",readonly:""},model:{value:e.formItem.mer_take_location,callback:function(t){e.$set(e.formItem,"mer_take_location",t)},expression:"formItem.mer_take_location"}},[r("el-button",{staticStyle:{background:"#46a6ff",color:"#fff","border-radius":"0 4px 4px 0"},attrs:{slot:"append"},on:{click:e.onSearch},slot:"append"},[e._v("查找位置")])],1),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("请点击查找位置选择位置")])],1)],1),e._v(" "),r("el-col",[r("el-form-item",{attrs:{label:"是否开启门店自提："}},[r("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"开启","inactive-text":"关闭"},model:{value:e.formItem.mer_take_status,callback:function(t){e.$set(e.formItem,"mer_take_status",t)},expression:"formItem.mer_take_status"}})],1)],1)],1)],1),e._v(" "),r("el-row",[r("el-col",e._b({},"el-col",e.grid,!1),[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formItem")}}},[e._v("提交")])],1)],1)],1)],1),e._v(" "),e.modalMap?r("el-dialog",{staticClass:"mapBox",attrs:{visible:e.modalMap,title:"选择位置","close-on-click-modal":"","custom-class":"dialog-scustom"},on:{"update:visible":function(t){e.modalMap=t}},model:{value:e.modalMap,callback:function(t){e.modalMap=t},expression:"modalMap"}},[r("iframe",{attrs:{id:"mapPage",width:"100%",height:"500px",frameborder:"0",src:e.keyUrl}})]):e._e()],1)])],1)},n=[],o=r("c80c"),i=(r("96cf"),r("3b8d")),s=(r("28a5"),r("7f7f"),r("90e7")),m={name:"SystemStore",components:{},props:{},data:function(){var e=function(e,t,r){if(!t)return r(new Error("请填写手机号"));/^1[3456789]\d{9}$/.test(t)?r():r(new Error("手机号格式不正确!"))};return{modalMap:!1,labelPosition:"right",labelWidth:"130px",key:"",date:[{date_name:"周一",date_id:1},{date_name:"周二",date_id:2},{date_name:"周三",date_id:3},{date_name:"周四",date_id:4},{date_name:"周五",date_id:5},{date_name:"周六",date_id:6},{date_name:"周日",date_id:7}],formItem:{mer_take_name:"",mer_take_phone:"",mer_take_address:"",mer_take_time:["",""],mer_take_day:[],mer_take_location:"",id:0,mer_take_status:0},ruleValidate:{mer_take_name:[{required:!0,message:"请输入提货点名称",trigger:"blur"}],mer_take_day:[{required:!0,type:"array",message:"请选择提货点营业日期",trigger:"change"}],mer_take_time:[{required:!0,message:"请选择提货点营业时间",trigger:"change"}],mer_take_phone:[{required:!0,validator:e,trigger:"blur"}],mer_take_address:[{required:!0,message:"请输入详细地址",trigger:"blur"}],mer_take_location:[{required:!0,message:"请选择经纬度",trigger:"blur"}]},keyUrl:"",grid:{xl:20,lg:20,md:20,sm:24,xs:24},gridPic:{xl:6,lg:8,md:12,sm:12,xs:12}}},created:function(){},mounted:function(){window.addEventListener("message",(function(e){var t=e.data;t&&"locationPicker"===t.module&&window.parent.selectAdderss(t)}),!1),window.selectAdderss=this.selectAdderss,this.getInfo()},methods:{onchangeTime:function(e){this.formItem.mer_take_time=e},selectAdderss:function(e){this.formItem.mer_take_location=e.latlng.lat+","+e.latlng.lng,this.modalMap=!1},getInfo:function(){var e=this,t=this;Object(s["A"])().then((function(r){e.key=r.data.tx_map_key;var a=r.data.tx_map_key;e.keyUrl="https://apis.map.qq.com/tools/locpicker?type=1&key=".concat(a,"&referer=myapp");var n=r.data||null;t.formItem.mer_take_time=n.mer_take_time||["",""],t.formItem.mer_take_day=n.mer_take_day||[],t.formItem.mer_take_phone=n.mer_take_phone,t.formItem.mer_take_name=n.mer_take_name,t.formItem.mer_take_address=n.mer_take_address,t.formItem.mer_take_location=n.mer_take_location&&n.mer_take_location.length?n.mer_take_location[0]+","+n.mer_take_location[1]:"",t.formItem.mer_take_status=n.mer_take_status||0})).catch((function(e){t.spinShow=!1,t.$message.error(e.message)}))},onSearch:function(){this.key&&""!=this.key?this.modalMap=!0:this.$message.error("平台未配置腾讯地图KEY")},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var r=t.formItem.mer_take_location?[t.formItem.mer_take_location.split(",")[0],t.formItem.mer_take_location.split(",")[1]]:[],a=Object.assign({},t.formItem);a.mer_take_location=r,Object(s["B"])(a).then(function(){var e=Object(i["a"])(Object(o["a"])().mark((function e(r){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$message.success(r.message),t.getInfo();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.$message.error(e.message)}))}))}}},l=m,c=(r("9b17"),r("2877")),u=Object(c["a"])(l,a,n,!1,null,"5eab97ea",null);t["default"]=u.exports},"90e7":function(e,t,r){"use strict";r.d(t,"m",(function(){return n})),r.d(t,"u",(function(){return o})),r.d(t,"x",(function(){return i})),r.d(t,"v",(function(){return s})),r.d(t,"w",(function(){return m})),r.d(t,"c",(function(){return l})),r.d(t,"a",(function(){return c})),r.d(t,"g",(function(){return u})),r.d(t,"b",(function(){return d})),r.d(t,"f",(function(){return f})),r.d(t,"e",(function(){return _})),r.d(t,"d",(function(){return p})),r.d(t,"A",(function(){return k})),r.d(t,"B",(function(){return g})),r.d(t,"j",(function(){return h})),r.d(t,"k",(function(){return b})),r.d(t,"l",(function(){return v})),r.d(t,"y",(function(){return y})),r.d(t,"z",(function(){return I})),r.d(t,"n",(function(){return w})),r.d(t,"o",(function(){return x})),r.d(t,"i",(function(){return $})),r.d(t,"h",(function(){return S})),r.d(t,"C",(function(){return q})),r.d(t,"p",(function(){return M})),r.d(t,"r",(function(){return j})),r.d(t,"s",(function(){return O})),r.d(t,"t",(function(){return C})),r.d(t,"q",(function(){return A}));var a=r("0c6d");function n(e){return a["a"].get("system/role/lst",e)}function o(){return a["a"].get("system/role/create/form")}function i(e){return a["a"].get("system/role/update/form/".concat(e))}function s(e){return a["a"].delete("system/role/delete/".concat(e))}function m(e,t){return a["a"].post("system/role/status/".concat(e),{status:t})}function l(e){return a["a"].get("system/admin/lst",e)}function c(){return a["a"].get("/system/admin/create/form")}function u(e){return a["a"].get("system/admin/update/form/".concat(e))}function d(e){return a["a"].delete("system/admin/delete/".concat(e))}function f(e,t){return a["a"].post("system/admin/status/".concat(e),{status:t})}function _(e){return a["a"].get("system/admin/password/form/".concat(e))}function p(e){return a["a"].get("system/admin/log",e)}function k(){return a["a"].get("take/info")}function g(e){return a["a"].post("take/update",e)}function h(){return a["a"].get("margin/code")}function b(e){return a["a"].get("margin/lst",e)}function v(){return a["a"].post("financial/refund/margin")}function y(){return a["a"].get("serve/info")}function I(e){return a["a"].get("serve/meal",e)}function w(e){return a["a"].get("serve/code",e)}function x(e){return a["a"].get("serve/paylst",e)}function $(e){return a["a"].get("expr/temps",e)}function S(){return a["a"].get("serve/config")}function q(e){return a["a"].post("serve/config",e)}function M(){return a["a"].get("store/printer/create/form")}function j(e){return a["a"].get("store/printer/lst",e)}function O(e,t){return a["a"].post("store/printer/status/".concat(e),t)}function C(e){return a["a"].get("store/printer/update/".concat(e,"/form"))}function A(e){return a["a"].delete("store/printer/delete/".concat(e))}},"9b17":function(e,t,r){"use strict";r("ecf4")},ecf4:function(e,t,r){}}]);