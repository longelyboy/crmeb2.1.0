(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-users-user_info-index"],{"0010":function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a434");var a=n("c6c3"),o=n("ef5b"),r=n("26cb"),s=n("4f1b"),u=(i(n("c303")),i(n("f272"))),c=(i(n("ff56")),n("8342")),d={components:{authorize:u.default},data:function(){return{domain:c.HTTP_REQUEST_URL,userInfo:{},loginType:"h5",userIndex:0,switchUserInfo:[],isAuto:!1,isShowAuth:!1,headBg:"../static/images/currentAcc",mp_is_new:this.$Cache.get("MP_VERSION_ISNEW")||!1,version:""}},computed:(0,s.configMap)({open_update_info:0},(0,r.mapGetters)(["isLogin","viewColor","keyColor"])),onLoad:function(){this.isLogin?this.getUserInfo():(this.isAuto=!0,this.isShowAuth=!0)},methods:{toggle:function(t){this.type=t,this.$refs.popup.open(t)},uploadpic:function(){var t=this;0!=t.open_update_info&&t.$util.uploadImageOne("upload/image",(function(e){var n=t.switchUserInfo[t.userIndex];void 0!==n&&(n.avatar=e.data.path),t.switchUserInfo[t.userIndex]=n,(0,a.editAvatar)({avatar:e.data.path}).then((function(e){t.$util.Tips({title:e.message})}))}))},changeInput:function(){0!=this.open_update_info&&uni.navigateTo({url:"/pages/users/user_nickname/index"})},onChooseAvatar:function(t){var e=this,n=t.detail.avatarUrl;this.$util.uploadImgs("upload/image",n,(function(t){e.userInfo.avatar=t.data.path,(0,a.editAvatar)({avatar:t.data.path}).then((function(t){that.$util.Tips({title:t.message})}))}),(function(t){}))},onLoadFun:function(){this.isShowAuth=!1,this.getUserInfo()},authColse:function(t){this.isShowAuth=t},switchAccounts:function(t,e){var n=this.switchUserInfo[e],i=this;return i.userIndex=e,i.switchUserInfo.length<=1||(void 0===n?i.$util.Tips({title:"切换的账号不存在"}):(uni.showLoading({title:"正在切换中"}),void(0,o.switchH5Login)({uid:t.uid}).then((function(t){var e=t.data;uni.hideLoading();Math.round(new Date/1e3);i.$store.commit("LOGIN",{token:e.token,time:e.exp}),i.$store.commit("SETUID",e.user.uid),i.$store.commit("UPDATE_USERINFO",e.user),i.getUserInfo()})).catch((function(t){return uni.hideLoading(),i.$util.Tips({title:t})}))))},outLogin:function(){var t=this;"h5"==t.loginType&&uni.showModal({title:"提示",content:"确认退出登录?",success:function(e){e.confirm?(0,a.getLogout)().then((function(e){t.$store.commit("LOGOUT"),uni.reLaunch({url:"/pages/index/index"})})).catch((function(t){})):e.cancel}})},userAcc:function(){var t=this;(0,a.userAcc)().then((function(e){for(var n=t,i=e.data||[],a=0;a<i.length;a++)i[a].uid==n.userInfo.uid&&(n.userIndex=a),n.$wechat.isWeixin()||"h5"==i[a].user_type||""!==i[a].phone||i.splice(a,1);n.$set(n,"switchUserInfo",i)}))},changePwd:function(){this.userInfo.phone?uni.navigateTo({url:"/pages/users/user_modify_pwd/index"}):this.$util.Tips({title:"请先绑定手机号"})},changeCancel:function(){uni.navigateTo({url:"/pages/users/user_about/index?from=the_cancellation_msg"})},getUserInfo:function(){var t=this;(0,a.getUserInfo)().then((function(e){t.$set(t,"userInfo",e.data),e.data.phone&&t.userAcc()}))}}};e.default=d},"1c6c":function(t,e,n){"use strict";var i=n("d630"),a=n.n(i);a.a},4798:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */html[data-v-07a79eff]{-webkit-text-size-adjust:none}.radius[data-v-07a79eff]{background-color:#fff;width:%?35?%;height:%?35?%;border-radius:50%;border:1px solid #bb2b05;line-height:%?25?%;text-align:center;position:absolute;right:0;bottom:0}.iconfonta[data-v-07a79eff]{border-radius:50%;font-size:%?20?%;color:red}.avatar[data-v-07a79eff]{width:%?120?%;height:%?120?%;border-radius:50%}.btnb[data-v-07a79eff]{border-radius:0;height:%?100?%;line-height:%?100?%}.btna[data-v-07a79eff]{height:%?100?%;line-height:%?100?%;border-radius:%?10?% %?10?% 0 0}.btnc[data-v-07a79eff]{height:%?130?%;line-height:%?130?%;border-radius:0}.personal-data[data-v-07a79eff]{padding-bottom:calc(0rpx+ constant(safe-area-inset-bottom));padding-bottom:calc(%?0?% + env(safe-area-inset-bottom))}.personal-data .wrapper[data-v-07a79eff]{margin:%?10?% 0;background-color:#fff;padding:%?36?% %?30?% %?13?% %?30?%}.personal-data .wrapper .title[data-v-07a79eff]{margin-bottom:%?30?%;font-size:%?32?%;color:#282828}.personal-data .wrapper .wrapList .item[data-v-07a79eff]{width:%?690?%;height:%?160?%;background-color:#f8f8f8;border-radius:%?20?%;margin-bottom:%?22?%;padding:0 %?30?%;position:relative;border:%?2?% solid #f8f8f8;box-sizing:border-box}.t-color[data-v-07a79eff]{color:var(--view-theme)}.personal-data .wrapper .wrapList .item.on[data-v-07a79eff]{border-color:var(--view-theme);border-radius:%?20?%;background-size:100% 100%;background-color:var(--view-minorColor);background-repeat:no-repeat}.personal-data .wrapper .wrapList .item .picTxt[data-v-07a79eff]{width:%?445?%}.personal-data .wrapper .wrapList .item .picTxt .pictrue[data-v-07a79eff]{width:%?96?%;height:%?96?%;position:relative}.personal-data .wrapper .wrapList .item .picTxt .pictrue uni-image[data-v-07a79eff]{width:100%;height:100%;border-radius:50%}.personal-data .wrapper .wrapList .item .picTxt .text[data-v-07a79eff]{width:%?325?%}.personal-data .wrapper .wrapList .item .picTxt .text .name[data-v-07a79eff]{width:100%;font-size:%?30?%;color:#282828}.personal-data .wrapper .wrapList .item .picTxt .text .phone[data-v-07a79eff]{font-size:%?24?%;color:#999;margin-top:%?10?%}.personal-data .wrapper .wrapList .item .bnt[data-v-07a79eff]{font-size:%?24?%;background-color:#fff;border-radius:%?27?%;width:%?140?%;height:%?54?%;border:%?2?% solid var(--view-theme)}.personal-data .wrapper .wrapList .item .currentBnt[data-v-07a79eff]{position:absolute;right:0;top:0;font-size:%?26?%;background-color:var(--view-minorColor);width:%?140?%;height:%?48?%;border-radius:0 %?20?% 0 %?20?%}.personal-data .list[data-v-07a79eff]{margin-top:%?15?%;background-color:#fff}.personal-data .list .item[data-v-07a79eff]{padding:%?30?% %?30?% %?30?% 0;border-bottom:1px solid #f2f2f2;margin-left:%?30?%;font-size:%?32?%;color:#282828}.personal-data .list .item .phone[data-v-07a79eff]{width:%?160?%;height:%?56?%;font-size:%?24?%;color:#fff;line-height:%?56?%;border-radius:%?32?%}.personal-data .list .item .pictrue[data-v-07a79eff]{width:%?88?%;height:%?88?%}.personal-data .list .item .pictrue uni-image[data-v-07a79eff]{width:100%;height:100%;border-radius:50%}.personal-data .list .item .input[data-v-07a79eff]{min-width:%?415?%;text-align:right;color:#868686}.personal-data .list .item .input .id[data-v-07a79eff]{width:%?365?%}.personal-data .list .item .input .iconfont[data-v-07a79eff]{font-size:%?35?%}.personal-data .modifyBnt[data-v-07a79eff]{font-size:%?32?%;color:#fff;width:%?690?%;height:%?90?%;border-radius:%?50?%;text-align:center;line-height:%?90?%;margin:%?76?% auto 0 auto;background:var(--view-theme)}.personal-data .logOut[data-v-07a79eff]{font-size:%?32?%;text-align:center;width:%?690?%;height:%?90?%;border-radius:%?45?%;margin:%?30?% auto 0 auto;color:var(--view-theme);border:1px solid var(--view-theme)}.avatar-box[data-v-07a79eff]{width:%?96?%;height:%?96?%;background:transparent}.avatar-box uni-image[data-v-07a79eff]{width:100%;height:100%;border-radius:50%}',""]),t.exports=e},4898:function(t,e,n){"use strict";n.r(e);var i=n("6ed2"),a=n("fe03");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("96b1");var r=n("f0c5"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"07a79eff",null,!1,i["a"],void 0);e["default"]=s.exports},"493d":function(t,e,n){"use strict";n.r(e);var i=n("e933"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"6ed2":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{style:t.viewColor},[n("v-uni-form",[n("v-uni-view",{staticClass:"personal-data"},[t.switchUserInfo.length>0?n("v-uni-view",{staticClass:"wrapper"},[n("v-uni-view",{staticClass:"title"},[t._v("管理我的账号")]),n("v-uni-view",{staticClass:"wrapList"},t._l(t.switchUserInfo,(function(e,i){return n("v-uni-view",{key:i,staticClass:"item acea-row row-between-wrapper",class:e.uid===t.userInfo.uid?"on":"",style:{"background-image":"url("+(e.uid==t.userInfo.uid?t.domain+"/static/diy/currentAcc"+t.keyColor+".png":"")+")"}},[n("v-uni-view",{staticClass:"picTxt acea-row row-between-wrapper"},[e.uid===t.userInfo.uid?[t.mp_is_new?t._e():n("v-uni-view",{staticClass:"pictrue",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.uploadpic.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:e.avatar||"/static/images/f.png"}}),0!=t.open_update_info?n("v-uni-view",{staticClass:"radius"},[n("span",{staticClass:"iconfont iconfonta icon-jilu-xuanzhong"})]):t._e()],1),t.mp_is_new&&0!=t.open_update_info?n("v-uni-button",{staticClass:"avatar-box pictrue",attrs:{"open-type":"chooseAvatar"},on:{chooseavatar:function(e){arguments[0]=e=t.$handleEvent(e),t.onChooseAvatar.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:e.avatar||"/static/images/f.png"}}),n("v-uni-view",{staticClass:"radius"},[n("span",{staticClass:"iconfont iconfonta icon-jilu-xuanzhong"})])],1):t.mp_is_new&&0==t.open_update_info?n("v-uni-button",{staticClass:"avatar-box"},[n("v-uni-image",{attrs:{src:e.avatar||"/static/images/f.png"}})],1):t._e()]:n("v-uni-view",{staticClass:"pictrue"},[n("v-uni-image",{attrs:{src:e.avatar||"/static/images/f.png"}}),0!=t.open_update_info?n("v-uni-view",{staticClass:"radius"},[n("span",{staticClass:"iconfont iconfonta icon-jilu-xuanzhong"})]):t._e()],1),n("v-uni-view",{staticClass:"text"},[n("v-uni-view",{staticClass:"name line1"},[t._v(t._s(e.nickname))])],1)],2),e.uid===t.userInfo.uid?n("v-uni-view",{staticClass:"currentBnt acea-row row-center-wrapper t-color"},[t._v("当前账号")]):n("v-uni-view",{staticClass:"bnt t-color acea-row row-center-wrapper",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.switchAccounts(e,i)}}},[t._v("使用账号")])],1)})),1)],1):n("v-uni-view",{staticClass:"list"},[n("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[n("v-uni-view",[t._v("头像")]),t.mp_is_new?n("v-uni-button",{staticClass:"avatar-box",attrs:{"open-type":"chooseAvatar"},on:{chooseavatar:function(e){arguments[0]=e=t.$handleEvent(e),t.onChooseAvatar.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:t.userInfo.avatar||"/static/images/f.png"}})],1):n("v-uni-view",{staticClass:"pictrue",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.uploadpic.apply(void 0,arguments)}}},[n("v-uni-image",{staticClass:"avatar",attrs:{src:t.userInfo.avatar||"/static/images/f.png"}})],1)],1)],1),n("v-uni-view",{staticClass:"list",staticStyle:{"margin-top":"1rpx"}},[n("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[n("v-uni-view",[t._v("昵称")]),n("v-uni-view",{staticClass:"input acea-row row-between-wrapper",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeInput.apply(void 0,arguments)}}},[n("v-uni-input",{attrs:{type:"text",name:"nickname",value:t.userInfo.nickname}}),0!=t.open_update_info?n("v-uni-text",{staticClass:"iconfont icon-you"}):n("v-uni-text",{staticClass:"iconfont icon-suozi"})],1)],1),n("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[n("v-uni-view",[t._v("ID号")]),n("v-uni-view",{staticClass:"input acea-row row-between-wrapper"},[n("v-uni-input",{staticClass:"id",attrs:{type:"text",value:t.userInfo.uid,disabled:"true"}}),n("v-uni-text",{staticClass:"iconfont icon-suozi"})],1)],1),n("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[n("v-uni-view",[t._v("手机号码")]),t.userInfo.phone?n("v-uni-navigator",{staticClass:"input acea-row row-between-wrapper",attrs:{url:"/pages/users/user_modify_phone/index","hover-class":"none"}},[n("v-uni-input",{staticClass:"id",attrs:{type:"text",disabled:"true",name:"phone",value:t.userInfo.phone}}),n("v-uni-text",{staticClass:"iconfont icon-you"})],1):n("v-uni-navigator",{staticClass:"input",attrs:{url:"/pages/users/user_phone/index","hover-class":"none"}},[t._v("点击绑定手机号"),n("v-uni-text",{staticClass:"iconfont icon-xiangyou"})],1)],1),n("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[n("v-uni-view",[t._v("登录密码")]),n("v-uni-view",{staticClass:"input acea-row row-between-wrapper",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changePwd.apply(void 0,arguments)}}},[n("v-uni-input",{staticClass:"id",attrs:{type:"text",placeholder:"修改登录密码",disabled:"true"}}),n("v-uni-text",{staticClass:"iconfont icon-you"})],1)],1),n("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[n("v-uni-view",[t._v("地址管理")]),n("v-uni-navigator",{staticClass:"input acea-row row-between-wrapper",attrs:{url:"/pages/users/user_address_list/index","hover-class":"none"}},[n("v-uni-input",{staticClass:"id",attrs:{type:"text",placeholder:"立即前往",disabled:"true"}}),n("v-uni-text",{staticClass:"iconfont icon-you"})],1)],1),n("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[n("v-uni-view",[t._v("发票管理")]),n("v-uni-navigator",{staticClass:"input acea-row row-between-wrapper",attrs:{url:"/pages/users/user_invoice_list/index","hover-class":"none"}},[n("v-uni-input",{staticClass:"id",attrs:{type:"text",placeholder:"立即前往",disabled:"true"}}),n("v-uni-text",{staticClass:"iconfont icon-you"})],1)],1),n("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[n("v-uni-view",[t._v("注销账号")]),n("v-uni-view",{staticClass:"input acea-row row-between-wrapper",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeCancel.apply(void 0,arguments)}}},[n("v-uni-input",{staticClass:"id",attrs:{type:"text",placeholder:"账号注销后不能恢复",disabled:"true"}}),n("v-uni-text",{staticClass:"iconfont icon-you"})],1)],1)],1),this.$wechat.isWeixin()?t._e():n("v-uni-view",{staticClass:"logOut acea-row row-center-wrapper",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.outLogin.apply(void 0,arguments)}}},[t._v("退出登录")]),n("v-uni-view",{staticClass:"foot-bar"})],1)],1),n("authorize",{attrs:{isAuto:t.isAuto,isShowAuth:t.isShowAuth},on:{onLoadFun:function(e){arguments[0]=e=t.$handleEvent(e),t.onLoadFun.apply(void 0,arguments)},authColse:function(e){arguments[0]=e=t.$handleEvent(e),t.authColse.apply(void 0,arguments)}}})],1)},a=[]},"96b1":function(t,e,n){"use strict";var i=n("dd01"),a=n.n(i);a.a},a296:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.Popup[data-v-ac292046]{flex:1;align-items:center;justify-content:center;width:%?500?%;background-color:#fff;position:fixed;top:%?500?%;left:%?125?%;z-index:1000}.Popup .logo-auth[data-v-ac292046]{z-index:-1;position:absolute;left:50%;top:0;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:%?150?%;height:%?150?%;display:flex;align-items:center;justify-content:center;border:%?8?% solid #fff;border-radius:50%;background:#fff}.Popup .image[data-v-ac292046]{height:%?42?%;margin-top:%?-54?%}.Popup .title[data-v-ac292046]{font-size:%?28?%;color:#000;text-align:center;margin-top:%?30?%;align-items:center;justify-content:center;width:%?500?%;display:flex}.Popup .tip[data-v-ac292046]{font-size:%?22?%;color:#555;padding:0 %?24?%;margin-top:%?25?%;display:flex;align-items:center;justify-content:center}.Popup .bottom .item[data-v-ac292046]{width:%?250?%;height:%?80?%;background-color:#eee;text-align:center;line-height:%?80?%;margin-top:%?54?%;font-size:%?24?%;color:#666}.Popup .bottom .item .text[data-v-ac292046]{font-size:%?24?%;color:#666}.Popup .bottom .item.on[data-v-ac292046]{width:%?500?%}.flex[data-v-ac292046]{display:flex;flex-direction:row}.Popup .bottom .item.grant[data-v-ac292046]{font-weight:700;background-color:#e93323;\n  /* background-color: var(--view-theme); */border-radius:0;padding:0}.Popup .bottom .item.grant .text[data-v-ac292046]{font-size:%?28?%;color:#fff}.mask[data-v-ac292046]{position:fixed;top:0;right:0;left:0;bottom:0;background-color:rgba(0,0,0,.65);z-index:99}',""]),t.exports=e},bf19:function(t,e,n){"use strict";var i=n("23e7"),a=n("c65b");i({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return a(URL.prototype.toString,this)}})},c15c:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[t.isShowAuth&&t.code?n("v-uni-view",{staticClass:"mask",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}}):t._e(),t.isShowAuth&&t.code?n("v-uni-view",{staticClass:"Popup",style:"top:"+t.top+"px;"},[n("v-uni-view",{staticClass:"logo-auth"},[n("v-uni-image",{staticClass:"image",attrs:{src:t.routine_logo,mode:"aspectFit"}})],1),t.isWeixin?n("v-uni-text",{staticClass:"title"},[t._v("授权提醒")]):n("v-uni-text",{staticClass:"title"},[t._v(t._s(t.title))]),t.isWeixin?n("v-uni-text",{staticClass:"tip"},[t._v("请授权头像等信息，以便为您提供更好的服务！")]):n("v-uni-text",{staticClass:"tip"},[t._v(t._s(t.info))]),n("v-uni-view",{staticClass:"bottom flex"},[n("v-uni-text",{staticClass:"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[t._v("随便逛逛")]),n("v-uni-button",{staticClass:"item grant",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toWecahtAuth.apply(void 0,arguments)}}},[t.isWeixin?n("v-uni-text",{staticClass:"text"},[t._v("去授权")]):n("v-uni-text",{staticClass:"text"},[t._v("去登录")])],1)],1)],1):t._e()],1)},a=[]},c303:function(t,e,n){var i,a,o=n("7037").default;n("a9e3"),n("ac1f"),n("5319"),n("00b4"),n("466d"),n("d401"),n("d3b7"),n("25f0"),n("fb6a"),n("f4b3"),n("bf19"),function(r,s){"object"==o(e)&&"undefined"!=typeof t?t.exports=s():(i=s,a="function"===typeof i?i.call(e,n,e,t):i,void 0===a||(t.exports=a))}(0,(function(){"use strict";var t="millisecond",e="second",n="minute",i="hour",a="day",r="week",s="month",u="quarter",c="year",d=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,f=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,l=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},p={s:l,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),a=n%60;return(e<=0?"+":"-")+l(i,2,"0")+":"+l(a,2,"0")},m:function(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,s),a=e-i<0,o=t.clone().add(n+(a?-1:1),s);return Number(-(n+(e-i)/(a?i-o:o-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(o){return{M:s,y:c,w:r,d:a,D:"date",h:i,m:n,s:e,ms:t,Q:u}[o]||String(o||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v="en",g={};g[v]=h;var w=function(t){return t instanceof _},m=function(t,e,n){var i;if(!t)return v;if("string"==typeof t)g[t]&&(i=t),e&&(g[t]=e,i=t);else{var a=t.name;g[a]=t,i=a}return!n&&i&&(v=i),i||!n&&v},b=function(t,e){if(w(t))return t.clone();var n="object"==o(e)?e:{};return n.date=t,n.args=arguments,new _(n)},y=p;y.l=m,y.i=w,y.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u,$offset:e.$offset})};var _=function(){function o(t){this.$L=this.$L||m(t.locale,null,!0),this.parse(t)}var l=o.prototype;return l.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(y.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(d);if(i)return n?new Date(Date.UTC(i[1],i[2]-1,i[3]||1,i[4]||0,i[5]||0,i[6]||0,i[7]||0)):new Date(i[1],i[2]-1,i[3]||1,i[4]||0,i[5]||0,i[6]||0,i[7]||0)}return new Date(e)}(t),this.init()},l.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},l.$utils=function(){return y},l.isValid=function(){return!("Invalid Date"===this.$d.toString())},l.isSame=function(t,e){var n=b(t);return this.startOf(e)<=n&&n<=this.endOf(e)},l.isAfter=function(t,e){return b(t)<this.startOf(e)},l.isBefore=function(t,e){return this.endOf(e)<b(t)},l.$g=function(t,e,n){return y.u(t)?this[e]:this.set(n,t)},l.year=function(t){return this.$g(t,"$y",c)},l.month=function(t){return this.$g(t,"$M",s)},l.day=function(t){return this.$g(t,"$W",a)},l.date=function(t){return this.$g(t,"$D","date")},l.hour=function(t){return this.$g(t,"$H",i)},l.minute=function(t){return this.$g(t,"$m",n)},l.second=function(t){return this.$g(t,"$s",e)},l.millisecond=function(e){return this.$g(e,"$ms",t)},l.unix=function(){return Math.floor(this.valueOf()/1e3)},l.valueOf=function(){return this.$d.getTime()},l.startOf=function(t,o){var u=this,d=!!y.u(o)||o,f=y.p(t),l=function(t,e){var n=y.w(u.$u?Date.UTC(u.$y,e,t):new Date(u.$y,e,t),u);return d?n:n.endOf(a)},p=function(t,e){return y.w(u.toDate()[t].apply(u.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(e)),u)},h=this.$W,v=this.$M,g=this.$D,w="set"+(this.$u?"UTC":"");switch(f){case c:return d?l(1,0):l(31,11);case s:return d?l(1,v):l(0,v+1);case r:var m=this.$locale().weekStart||0,b=(h<m?h+7:h)-m;return l(d?g-b:g+(6-b),v);case a:case"date":return p(w+"Hours",0);case i:return p(w+"Minutes",1);case n:return p(w+"Seconds",2);case e:return p(w+"Milliseconds",3);default:return this.clone()}},l.endOf=function(t){return this.startOf(t,!1)},l.$set=function(o,r){var u,d=y.p(o),f="set"+(this.$u?"UTC":""),l=(u={},u[a]=f+"Date",u.date=f+"Date",u[s]=f+"Month",u[c]=f+"FullYear",u[i]=f+"Hours",u[n]=f+"Minutes",u[e]=f+"Seconds",u[t]=f+"Milliseconds",u)[d],p=d===a?this.$D+(r-this.$W):r;if(d===s||d===c){var h=this.clone().set("date",1);h.$d[l](p),h.init(),this.$d=h.set("date",Math.min(this.$D,h.daysInMonth())).toDate()}else l&&this.$d[l](p);return this.init(),this},l.set=function(t,e){return this.clone().$set(t,e)},l.get=function(t){return this[y.p(t)]()},l.add=function(t,o){var u,d=this;t=Number(t);var f=y.p(o),l=function(e){var n=b(d);return y.w(n.date(n.date()+Math.round(e*t)),d)};if(f===s)return this.set(s,this.$M+t);if(f===c)return this.set(c,this.$y+t);if(f===a)return l(1);if(f===r)return l(7);var p=(u={},u[n]=6e4,u[i]=36e5,u[e]=1e3,u)[f]||1,h=this.$d.getTime()+t*p;return y.w(h,this)},l.subtract=function(t,e){return this.add(-1*t,e)},l.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=y.z(this),a=this.$locale(),o=this.$H,r=this.$m,s=this.$M,u=a.weekdays,c=a.months,d=function(t,i,a,o){return t&&(t[i]||t(e,n))||a[i].substr(0,o)},l=function(t){return y.s(o%12||12,t,"0")},p=a.meridiem||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:y.s(s+1,2,"0"),MMM:d(a.monthsShort,s,c,3),MMMM:c[s]||c(this,n),D:this.$D,DD:y.s(this.$D,2,"0"),d:String(this.$W),dd:d(a.weekdaysMin,this.$W,u,2),ddd:d(a.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:y.s(o,2,"0"),h:l(1),hh:l(2),a:p(o,r,!0),A:p(o,r,!1),m:String(r),mm:y.s(r,2,"0"),s:String(this.$s),ss:y.s(this.$s,2,"0"),SSS:y.s(this.$ms,3,"0"),Z:i};return n.replace(f,(function(t,e){return e||h[t]||i.replace(":","")}))},l.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},l.diff=function(t,o,d){var f,l=y.p(o),p=b(t),h=6e4*(p.utcOffset()-this.utcOffset()),v=this-p,g=y.m(this,p);return g=(f={},f[c]=g/12,f[s]=g,f[u]=g/3,f[r]=(v-h)/6048e5,f[a]=(v-h)/864e5,f[i]=v/36e5,f[n]=v/6e4,f[e]=v/1e3,f)[l]||v,d?g:y.a(g)},l.daysInMonth=function(){return this.endOf(s).$D},l.$locale=function(){return g[this.$L]},l.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=m(t,e,!0);return i&&(n.$L=i),n},l.clone=function(){return y.w(this.$d,this)},l.toDate=function(){return new Date(this.valueOf())},l.toJSON=function(){return this.isValid()?this.toISOString():null},l.toISOString=function(){return this.$d.toISOString()},l.toString=function(){return this.$d.toUTCString()},o}();return b.prototype=_.prototype,b.extend=function(t,e){return t(e,_,b),b},b.locale=m,b.isDayjs=w,b.unix=function(t){return b(1e3*t)},b.en=g[v],b.Ls=g,b}))},d630:function(t,e,n){var i=n("a296");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("8f383f98",i,!0,{sourceMap:!1,shadowMode:!1})},dd01:function(t,e,n){var i=n("4798");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("b45a4694",i,!0,{sourceMap:!1,shadowMode:!1})},e933:function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("5530")),o=i(n("ff56")),r=n("31bd"),s=n("5cac"),u=n("26cb"),c=i(n("dae1")),d=n("4f1b"),f=(i(n("8b6a")),n("713c")),l=getApp(),p={name:"Authorize",props:{isAuto:{type:Boolean,default:!0},isGoIndex:{type:Boolean,default:!0},isShowAuth:{type:Boolean,default:!1}},components:{},data:function(){return{title:"用户登录",info:"请登录，将为您提供更好的服务！",isWeixin:this.$wechat.isWeixin(),canUseGetUserProfile:!1,code:null,top:0,mp_is_new:this.$Cache.get("MP_VERSION_ISNEW")||!1,editModal:!1}},computed:(0,a.default)((0,a.default)({},(0,u.mapGetters)(["isLogin","userInfo","viewColor"])),(0,d.configMap)(["routine_logo"])),watch:{isLogin:function(t){!0===t&&this.$emit("onLoadFun",this.userInfo)},isShowAuth:function(t){this.getCode(this.isShowAuth)}},created:function(){this.top=uni.getSystemInfoSync().windowHeight/2-70,wx.getUserProfile&&(this.canUseGetUserProfile=!0),this.setAuthStatus(),this.getCode(this.isShowAuth)},methods:{setAuthStatus:function(){},getCode:function(t){t&&(this.code=1)},toWecahtAuth:function(){(0,f.toLogin)(!0)},getUserProfile:function(){var t=this,e=this;c.default.getUserProfile().then((function(n){var i=n.userInfo;i.code=t.code,i.spread=l.globalData.spid,i.spread_code=l.globalData.code,(0,r.commonAuth)({auth:{type:"routine",auth:i}}).then((function(n){if(200!=n.data.status)return uni.setStorageSync("auth_token",n.data.result.key),uni.navigateTo({url:"/pages/users/login/index"});var i=n.data.result.expires_time-o.default.time();e.$store.commit("UPDATE_USERINFO",n.data.result.user),e.$store.commit("LOGIN",{token:n.data.result.token,time:i}),e.$store.commit("SETUID",n.data.result.user.uid),o.default.set(s.EXPIRES_TIME,n.data.result.expires_time,i),o.default.set(s.USER_INFO,n.data.result.user,i),t.$emit("onLoadFun",n.data.result.user),n.data.result.user.isNew&&t.mp_is_new&&(t.editModal=!0)})).catch((function(t){uni.hideLoading(),uni.showToast({title:t.message,icon:"none",duration:2e3})}))})).catch((function(t){uni.hideLoading()}))},close:function(){var t=getCurrentPages();t[t.length-1];this.$emit("authColse",!1)}}};e.default=p},ef5b:function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.ajcaptchaCheck=function(t){return a.default.post("ajcheck",t,{noAuth:!0})},e.appleAppAuth=function(t){return a.default.post("auth/apple",t,{noAuth:!0})},e.appletsDecrypt=function(t){return a.default.post("user/mp/binding",t)},e.bindingPhone=function(t){return a.default.post("user/binding",t)},e.getAjcaptcha=function(t){return a.default.get("ajcaptcha",t,{noAuth:!0})},e.getAppVersion=function(){return a.default.get("appVersion",{},{noAuth:!0})},e.getArticleBannerList=function(){return a.default.get("article/banner/list",{},{noAuth:!0})},e.getArticleCategoryList=function(){return a.default.get("article/category/lst",{},{noAuth:!0})},e.getArticleDetails=function(t){return a.default.get("article/detail/"+t,{},{noAuth:!0})},e.getArticleHotList=function(){return a.default.get("article/hot/list",{},{noAuth:!0})},e.getArticleList=function(t,e){return a.default.get("article/lst/"+t,e,{noAuth:!0})},e.getCity=function(){return a.default.get("system/city/lst",{},{noAuth:!0})},e.getCityList=function(t){return a.default.get("v2/system/city",{address:t},{noAuth:!0})},e.getCityV2=function(t){return a.default.get("v2/system/city/lst/"+t,{},{noAuth:!0})},e.getCoupons=function(t){return a.default.get("coupon/product",t,{noAuth:!0})},e.getDiy=function(t){return a.default.get("diy",t,{noAuth:!0})},e.getIndexData=function(){return a.default.get("common/home",{},{noAuth:!0})},e.getLiveList=function(t,e){return a.default.get("wechat/live",{page:t,limit:e},{noAuth:!0})},e.getLogo=function(){return a.default.get("wechat/get_logo",{},{noAuth:!0})},e.getPageDiy=function(t){return a.default.get("micro",t,{noAuth:!0})},e.getShopCoupons=function(t){return a.default.get("coupon/store/"+t,{},{noAuth:!0})},e.getTemlIds=function(){return a.default.get("wechat/teml_ids",{},{noAuth:!0})},e.getUserCoupons=function(t){return a.default.get("coupon/list",t)},e.loginMobile=function(t){return a.default.post("login/mobile",t,{noAuth:!0})},e.logout=function(){return a.default.get("logout")},e.modifyPassword=function(t){return a.default.post("user/change/password",t)},e.modifyPhone=function(t){return a.default.post("user/change/phone",t)},e.phoneLogin=function(t){return a.default.post("login",t,{noAuth:!0})},e.phoneRegister=function(t){return a.default.post("register",t,{noAuth:!0})},e.phoneRegisterReset=function(t){return a.default.post("register/reset",t,{noAuth:!0})},e.pink=function(){return a.default.get("pink",{},{noAuth:!0})},e.registerVerify=function(t,e,n,i){return a.default.post("register/verify",{phone:t,type:void 0===e?"reset":e,key:n,code:i},{noAuth:!0})},e.setCouponReceive=function(t){return a.default.post("coupon/receive/"+t)},e.setFormId=function(t){return a.default.post("wechat/set_form_id",{formId:t})},e.switchH5Login=function(t){return a.default.post("user/switch",t)},e.verifyCode=function(){return a.default.get("verify_code",{},{noAuth:!0})},e.wechatAppAuth=function(t){return a.default.post("auth/app",t,{noAuth:!0})};var a=i(n("b5ef"))},f272:function(t,e,n){"use strict";n.r(e);var i=n("c15c"),a=n("493d");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("1c6c");var r=n("f0c5"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"ac292046",null,!1,i["a"],void 0);e["default"]=s.exports},f4b3:function(t,e,n){"use strict";var i=n("23e7"),a=n("d039"),o=n("7b0b"),r=n("c04e"),s=a((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));i({target:"Date",proto:!0,arity:1,forced:s},{toJSON:function(t){var e=o(this),n=r(e,"number");return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},fe03:function(t,e,n){"use strict";n.r(e);var i=n("0010"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a}}]);