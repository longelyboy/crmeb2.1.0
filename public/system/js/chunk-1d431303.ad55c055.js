(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d431303"],{"08d8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"divBox"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"container"},[a("el-form",{attrs:{size:"small",inline:"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"订单状态："}},[a("el-radio-group",{attrs:{type:"button"},on:{change:function(t){return e.getList(1)}},model:{value:e.tableFrom.order_type,callback:function(t){e.$set(e.tableFrom,"order_type",t)},expression:"tableFrom.order_type"}},[a("el-radio-button",{attrs:{label:""}},[e._v("全部 ")]),e._v(" "),a("el-radio-button",{attrs:{label:"1"}},[e._v("待付款")]),e._v(" "),a("el-radio-button",{attrs:{label:"2"}},[e._v("待发货")]),e._v(" "),a("el-radio-button",{attrs:{label:"3"}},[e._v("待收货")]),e._v(" "),a("el-radio-button",{attrs:{label:"4"}},[e._v("待评价")]),e._v(" "),a("el-radio-button",{attrs:{label:"5"}},[e._v("交易完成")]),e._v(" "),a("el-radio-button",{attrs:{label:"6"}},[e._v("已退款")]),e._v(" "),a("el-radio-button",{attrs:{label:"7"}},[e._v("已删除")])],1)],1),e._v(" "),a("el-form-item",{staticClass:"width100",attrs:{label:"时间选择："}},[a("el-radio-group",{staticClass:"mr20",attrs:{type:"button",size:"small"},on:{change:function(t){return e.selectChange(e.tableFrom.date)}},model:{value:e.tableFrom.date,callback:function(t){e.$set(e.tableFrom,"date",t)},expression:"tableFrom.date"}},e._l(e.fromList.fromTxt,(function(t,i){return a("el-radio-button",{key:i,attrs:{label:t.val}},[e._v(e._s(t.text))])})),1),e._v(" "),a("el-date-picker",{staticStyle:{width:"250px"},attrs:{"value-format":"yyyy/MM/dd",format:"yyyy/MM/dd",size:"small",type:"daterange",placement:"bottom-end",placeholder:"自定义时间"},on:{change:e.onchangeTime},model:{value:e.timeVal,callback:function(t){e.timeVal=t},expression:"timeVal"}})],1),e._v(" "),a("el-form-item",{staticClass:"width100",attrs:{label:"关键字："}},[a("el-input",{staticClass:"selWidth",attrs:{placeholder:"请输入订单号/收货人/联系方式",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(1)}},model:{value:e.tableFrom.keyword,callback:function(t){e.$set(e.tableFrom,"keyword",t)},expression:"tableFrom.keyword"}},[a("el-button",{staticClass:"el-button-solt",attrs:{slot:"append",icon:"el-icon-search",size:"small"},on:{click:function(t){return e.getList(1)}},slot:"append"})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"商户名称："}},[a("el-select",{staticClass:"selWidth",attrs:{clearable:"",filterable:"",placeholder:"请选择"},on:{change:function(t){return e.getList(1)}},model:{value:e.tableFrom.mer_id,callback:function(t){e.$set(e.tableFrom,"mer_id",t)},expression:"tableFrom.mer_id"}},e._l(e.merSelect,(function(e){return a("el-option",{key:e.mer_id,attrs:{label:e.mer_name,value:e.mer_id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"开票状态："}},[a("el-select",{staticClass:"filter-item selWidth mr20",attrs:{placeholder:"请选择",clearable:""},on:{change:e.getList},model:{value:e.tableFrom.status,callback:function(t){e.$set(e.tableFrom,"status",t)},expression:"tableFrom.status"}},e._l(e.invoiceStatusList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{staticClass:"width100",attrs:{label:"用户信息："}},[a("el-input",{staticClass:"selWidth",attrs:{placeholder:"请输入用户昵称/手机号",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(1)}},model:{value:e.tableFrom.username,callback:function(t){e.$set(e.tableFrom,"username",t)},expression:"tableFrom.username"}},[a("el-button",{staticClass:"el-button-solt",attrs:{slot:"append",icon:"el-icon-search",size:"small"},on:{click:function(t){return e.getList(1)}},slot:"append"})],1)],1)],1)],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleSelection",staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData.data}},[a("el-table-column",{attrs:{prop:"storeOrder.order_sn",label:"订单号","min-width":"170"}}),e._v(" "),a("el-table-column",{attrs:{prop:"merchant.mer_name",label:"商户名称","min-width":"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user.nickname",label:"用户昵称","min-width":"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"order_price",label:"订单金额","min-width":"90"}}),e._v(" "),a("el-table-column",{attrs:{label:"订单状态","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.storeOrder&&0===t.row.storeOrder.paid&&0===t.row.storeOrder.status?a("span",[e._v("待付款")]):a("span",[e._v(e._s(e._f("orderStatusFilter")(t.row.storeOrder&&t.row.storeOrder.status)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"receipt_price",label:"发票金额","min-width":"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receipt_sn",label:"发票单号","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"发票类型","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.receipt_info?a("span",[e._v(e._s(1==t.row.receipt_info.receipt_type?"普通发票":"专用发票"))]):a("span",[e._v("--")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"发票抬头","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s("1"===t.row.receipt_info.receipt_title_type?"个人":"企业"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"发票联系人","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.storeOrder&&t.row.storeOrder.real_name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"发票联系信息","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.delivery_info.email?t.row.delivery_info.email:t.row.delivery_info.user_address&&t.row.delivery_info.user_address+t.row.delivery_info.user_phone&&t.row.delivery_info.user_phone))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"下单时间","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"开票状态","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.status?"已开":"未开"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"mer_mark",label:"发票备注","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"180",fixed:"right",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.getInvoiceInfo(t.row.order_receipt_id)}}},[e._v("详情")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"page-sizes":[20,40,60,80],"page-size":e.tableFrom.limit,"current-page":e.tableFrom.page,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.total},on:{"size-change":e.handleSizeChange,"current-change":e.pageChange}})],1)],1),e._v(" "),e.dialogVisible?a("el-dialog",{attrs:{title:e.invoiceInfo.title,visible:e.dialogVisible,width:"900px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticClass:"box-container"},[a("div",{staticClass:"acea-row"},[a("div",{staticClass:"list sp"},[a("label",{staticClass:"name",staticStyle:{color:"#333"}},[e._v("发票详情")])]),e._v(" "),a("div",{staticClass:"list sp"},[a("label",{staticClass:"name",staticStyle:{color:"#333"}},[e._v("发票申请单号：")]),e._v(e._s(e.invoiceInfo.receipt_sn))])]),e._v(" "),a("div",{staticClass:"title"},[e._v("发票信息")]),e._v(" "),a("div",{staticClass:"acea-row"},[a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[e._v("发票抬头：")]),e._v(e._s(e.invoiceInfo.receipt_info.receipt_title))]),e._v(" "),a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[e._v("发票类型：")]),e._v(e._s(1==e.invoiceInfo.receipt_info.receipt_type?"普通发票":"专用发票"))]),e._v(" "),a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[e._v("发票抬头类型：")]),e._v(e._s("1"==e.invoiceInfo.receipt_info.receipt_title_type?"个人":"企业"))]),e._v(" "),a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[e._v("发票金额：")]),e._v(e._s(e.invoiceInfo.receipt_price))]),e._v(" "),"2"==e.invoiceInfo.receipt_info.receipt_title_type?a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[e._v("企业税号：")]),e._v(e._s(e.invoiceInfo.receipt_info.duty_paragraph))]):e._e(),e._v(" "),2==e.invoiceInfo.receipt_info.receipt_type?a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[e._v("开户银行：")]),e._v(e._s(e.invoiceInfo.receipt_info.bank_name))]):e._e(),e._v(" "),2==e.invoiceInfo.receipt_info.receipt_type?a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[e._v("银行账号：")]),e._v(e._s(e.invoiceInfo.receipt_info.bank_code))]):e._e(),e._v(" "),2==e.invoiceInfo.receipt_info.receipt_type?a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[e._v("企业地址：")]),e._v(e._s(e.invoiceInfo.receipt_info.address))]):e._e(),e._v(" "),2==e.invoiceInfo.receipt_info.receipt_type?a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[e._v("企业电话：")]),e._v(e._s(e.invoiceInfo.receipt_info.tel))]):e._e()]),e._v(" "),a("div",{staticClass:"title"},[e._v("联系信息：")]),e._v(" "),1==e.invoiceInfo.receipt_info.receipt_type?a("div",{staticClass:"acea-row"},[a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[e._v("联系邮箱：")]),e._v(e._s(e.invoiceInfo.delivery_info.email))])]):a("div",{staticClass:"acea-row"},[a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[e._v("联系人姓名：")]),e._v(e._s(e.invoiceInfo.delivery_info.user_name))]),e._v(" "),a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[e._v("联系人电话：")]),e._v(e._s(e.invoiceInfo.delivery_info.user_phone))]),e._v(" "),a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[e._v("联系人地址：")]),e._v(e._s(e.invoiceInfo.delivery_info.user_address))])]),e._v(" "),a("div",{staticClass:"acea-row"},[a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[e._v("开票状态：")]),e._v(e._s(1==e.invoiceInfo.status?"已开":"未开"))]),e._v(" "),1==e.invoiceInfo.status?a("div",{staticClass:"list sp100"},[a("label",{staticClass:"name"},[e._v("发票号码：")]),e._v(e._s(e.invoiceInfo.receipt_no))]):e._e(),e._v(" "),a("div",{staticClass:"list sp100"},[a("label",{staticClass:"name"},[e._v("发票备注：")]),e._v(e._s(e.invoiceInfo.mer_mark))])])])])]):e._e()],1)},l=[],s=a("2801"),n=a("c4c8"),o={name:"OrderInvoice",data:function(){return{logisticsName:"refund",dialogVisible:!1,id:0,type:"",tableData:{data:[],total:0},merSelect:[],invoiceStatusList:[{label:"已开票",value:1},{label:"未开票",value:0}],listLoading:!0,tableFrom:{username:"",type:"",date:"",page:1,limit:20,receipt_sn:"",order_type:"",keyword:"",status:"",mer_id:""},orderChartType:{},timeVal:[],fromList:{title:"选择时间",custom:!0,fromTxt:[{text:"全部",val:""},{text:"今天",val:"today"},{text:"昨天",val:"yesterday"},{text:"最近7天",val:"lately7"},{text:"最近30天",val:"lately30"},{text:"本月",val:"month"},{text:"本年",val:"year"}]},loading:!1,invoiceInfo:{}}},mounted:function(){this.getList(1),this.getMerSelect()},methods:{selectChange:function(e){this.tableFrom.date=e,this.timeVal=[],this.getList(1)},onchangeTime:function(e){this.timeVal=e,this.tableFrom.date=e?this.timeVal.join("-"):"",this.getList(1)},getMerSelect:function(){var e=this;Object(n["P"])().then((function(t){e.merSelect=t.data})).catch((function(t){e.$message.error(t.message)}))},getInvoiceInfo:function(e){var t=this;this.loading=!0,Object(s["q"])(e).then((function(e){t.invoiceInfo=e.data,t.dialogVisible=!0,t.loading=!1})).catch((function(e){t.$message.error(e.message),t.loading=!1,t.dialogVisible=!1}))},getList:function(e){var t=this;this.listLoading=!0,this.tableFrom.page=e||this.tableFrom.page,Object(s["r"])(this.tableFrom).then((function(e){t.orderChartType=e.data.stat,t.tableData.data=e.data.list,t.tableData.total=e.data.count,t.listLoading=!1})).catch((function(e){t.$message.error(e.message),t.listLoading=!1}))},pageChange:function(e){this.tableFrom.page=e,this.getList()},handleSizeChange:function(e){this.tableFrom.limit=e,this.getList()},handleClose:function(){this.dialogLogistics=!1}}},r=o,c=(a("9636"),a("2877")),d=Object(c["a"])(r,i,l,!1,null,"3eeb5dd6",null);t["default"]=d.exports},9636:function(e,t,a){"use strict";a("af2c")},af2c:function(e,t,a){}}]);